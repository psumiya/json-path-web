<!DOCTYPE html>
<html lang="en-US" data-theme="light">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Json Path Evaluator</title>

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="stylesheet" href="assets/css/picocss/pico.min.css">
  <link rel="stylesheet" href="jpath.css">
</head>

<body>  
    <div class="mainDiv">
      <form>
        <div class="grid">
          <div>
              <fieldset>
                  <legend><b>Input</b></legend>
                  <textarea rows=10 cols=20 name="jsonToEvaluate" id="jsonToEvaluate">{"store":{"book":[{"category":"reference","author":"Nigel Rees","title":"Sayings of the Century","price":8.95},{"category":"fiction","author":"Evelyn Waugh","title":"Sword of Honour","price":12.99},{"category":"fiction","author":"Herman Melville","title":"Moby Dick","isbn":"0-553-21311-3","price":8.99},{"category":"fiction","author":"J. R. R. Tolkien","title":"The Lord of the Rings","isbn":"0-395-19395-8","price":22.99}],"bicycle":{"color":"red","price":19.95}},"expensive":10}</textarea>
                  <a href="#" role="button" class="secondary outline" onclick="javascript:beautify();">Beautify Json</a>
              </fieldset>                            
          </div>
          <div id="resultContainer">
              <a id="loading" href="#" aria-busy="true" style="display: none;">Evaluating Json...</a>
              <fieldset>
                  <legend><b>Result</b></legend>
                  <textarea rows=10 cols=20 id="result" readonly></textarea>
              </fieldset>
          </div>  
        </div>
        
        <label for="pathExpression"><b>Path Expression:</b></label>
        <input style="width: 50%" type="text" name="pathExpression" id="pathExpression" value="$..book[?(@.price <= $['expensive'])]" />
        

        <fieldset>
          <legend><b>Path Options:</b></legend>
          <div>
            <input type="checkbox" id="SUPPRESS_EXCEPTIONS" name="jsonPathOptions" value="SUPPRESS_EXCEPTIONS" />
            <label for="SUPPRESS_EXCEPTIONS">SUPPRESS_EXCEPTIONS</label>
          </div>
          <div>
            <input type="checkbox" id="ALWAYS_RETURN_LIST" name="jsonPathOptions" value="ALWAYS_RETURN_LIST" />
            <label for="ALWAYS_RETURN_LIST">ALWAYS_RETURN_LIST</label>
          </div>
          <div>
            <input type="checkbox" id="DEFAULT_PATH_LEAF_TO_NULL" name="jsonPathOptions" value="DEFAULT_PATH_LEAF_TO_NULL" />
            <label for="DEFAULT_PATH_LEAF_TO_NULL">DEFAULT_PATH_LEAF_TO_NULL</label>
          </div>
          <div>
            <input type="checkbox" id="REQUIRE_PROPERTIES" name="jsonPathOptions" value="REQUIRE_PROPERTIES" />
            <label for="REQUIRE_PROPERTIES">REQUIRE_PROPERTIES</label>
          </div>
        </fieldset>
        <section></section>
        <input type="button" value="Submit" style="width: 50%" onclick="javascript:evaluateJson();" />
      </form>
      <article>
        <details>
          <summary>About | Web UI to invoke Jayway JsonPath methods via a wrapper API</summary>
          <section></section>
          <b>References</b>
          <ul>
            <li>Jayway JsonPath, a Java port of <a href="https://goessner.net/articles/JsonPath/">Stefan Goessner JsonPath implementation</a>: https://github.com/json-path/JsonPath</li>
            <li>picocss: https://picocss.com/</li>
            <li>JsonPath Wrapper API: https://github.com/psumiya/json-path-api</li>
          </ul>
        </details>
      </article>
  </div> 
</body>

<script src="jpath.js"></script>

</html>